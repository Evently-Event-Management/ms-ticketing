{"timestamp":"2025-10-01T17:00:55.182Z","level":"INFO","category":"LOGGER","message":"Enhanced logging system initialized","file":"logger.go","line":68}
{"timestamp":"2025-10-01T17:00:55.182Z","level":"INFO","category":"LOGGER","message":"Log file: logs/order-gateway-2025-10-01.log","file":"logger.go","line":69}
{"timestamp":"2025-10-01T17:00:55.182Z","level":"INFO","category":"APP","message":"Starting Order Service initialization","file":"main.go","line":185}
{"timestamp":"2025-10-01T17:00:55.183Z","level":"INFO","category":"CONFIG","message":"Loaded environment variables from .env file","file":"main.go","line":191}
{"timestamp":"2025-10-01T17:00:55.183Z","level":"INFO","category":"APP","message":"Verifying database connections","file":"main.go","line":199}
{"timestamp":"2025-10-01T17:00:55.184Z","level":"INFO","category":"DATABASE","message":"Attempting to connect to PostgreSQL (attempt 1/5)","file":"main.go","line":121}
{"timestamp":"2025-10-01T17:00:55.241Z","level":"INFO","category":"DATABASE","message":"✅ PostgreSQL connection successful","file":"main.go","line":145}
{"timestamp":"2025-10-01T17:00:55.267Z","level":"INFO","category":"REDIS","message":"Keyspace notifications enabled for expired events","file":"main.go","line":166}
{"timestamp":"2025-10-01T17:00:55.267Z","level":"INFO","category":"DATABASE","message":"✅ Redis connection successful to localhost:6379 (DB: 0)","file":"main.go","line":168}
{"timestamp":"2025-10-01T17:00:55.267Z","level":"INFO","category":"KAFKA","message":"Initializing Kafka producer","file":"main.go","line":211}
{"timestamp":"2025-10-01T17:00:55.267Z","level":"INFO","category":"KAFKA","message":"Using Kafka address from environment variable: localhost:9092","file":"main.go","line":214}
{"timestamp":"2025-10-01T17:00:55.267Z","level":"INFO","category":"KAFKA","message":"Kafka brokers configured: [localhost:9092]","file":"main.go","line":216}
{"timestamp":"2025-10-01T17:00:55.267Z","level":"INFO","category":"KAFKA","message":"Kafka producer initialized successfully","file":"main.go","line":218}
{"timestamp":"2025-10-01T17:00:55.268Z","level":"INFO","category":"KAFKA","message":"Ensuring required topics exist","file":"main.go","line":221}
{"timestamp":"2025-10-01T17:00:56.290Z","level":"INFO","category":"KAFKA","message":"Required topics ensured successfully","file":"main.go","line":234}
{"timestamp":"2025-10-01T17:00:56.290Z","level":"INFO","category":"SERVICE","message":"Initializing ticket service","file":"main.go","line":237}
{"timestamp":"2025-10-01T17:00:56.290Z","level":"INFO","category":"SERVICE","message":"Initializing order service","file":"main.go","line":240}
{"timestamp":"2025-10-01T17:00:56.291Z","level":"INFO","category":"LOGGER","message":"Enhanced logging system initialized","file":"logger.go","line":68}
{"timestamp":"2025-10-01T17:00:56.291Z","level":"INFO","category":"LOGGER","message":"Log file: logs/order-gateway-2025-10-01.log","file":"logger.go","line":69}
{"timestamp":"2025-10-01T17:00:56.291Z","level":"INFO","category":"HTTP","message":"Setting up router and middleware","file":"main.go","line":259}
{"timestamp":"2025-10-01T17:00:56.428Z","level":"INFO","category":"DATABASE","message":"Redis connection closed","file":"main.go","line":208}
{"timestamp":"2025-10-01T17:00:56.428Z","level":"INFO","category":"DATABASE","message":"PostgreSQL connection closed","file":"main.go","line":204}
{"timestamp":"2025-10-01T17:00:56.429Z","level":"INFO","category":"LOGGER","message":"Closing log file","file":"logger.go","line":216}
{"timestamp":"2025-10-01T17:01:44.974Z","level":"INFO","category":"LOGGER","message":"Enhanced logging system initialized","file":"logger.go","line":68}
{"timestamp":"2025-10-01T17:01:44.974Z","level":"INFO","category":"LOGGER","message":"Log file: logs/order-gateway-2025-10-01.log","file":"logger.go","line":69}
{"timestamp":"2025-10-01T17:01:44.974Z","level":"INFO","category":"APP","message":"Starting Order Service initialization","file":"main.go","line":185}
{"timestamp":"2025-10-01T17:01:44.985Z","level":"INFO","category":"CONFIG","message":"Loaded environment variables from .env file","file":"main.go","line":191}
{"timestamp":"2025-10-01T17:01:44.985Z","level":"INFO","category":"APP","message":"Verifying database connections","file":"main.go","line":199}
{"timestamp":"2025-10-01T17:01:44.985Z","level":"INFO","category":"DATABASE","message":"Attempting to connect to PostgreSQL (attempt 1/5)","file":"main.go","line":121}
{"timestamp":"2025-10-01T17:01:45.010Z","level":"INFO","category":"DATABASE","message":"✅ PostgreSQL connection successful","file":"main.go","line":145}
{"timestamp":"2025-10-01T17:01:45.013Z","level":"INFO","category":"REDIS","message":"Keyspace notifications enabled for expired events","file":"main.go","line":166}
{"timestamp":"2025-10-01T17:01:45.013Z","level":"INFO","category":"DATABASE","message":"✅ Redis connection successful to localhost:6379 (DB: 0)","file":"main.go","line":168}
{"timestamp":"2025-10-01T17:01:45.013Z","level":"INFO","category":"KAFKA","message":"Initializing Kafka producer","file":"main.go","line":211}
{"timestamp":"2025-10-01T17:01:45.013Z","level":"INFO","category":"KAFKA","message":"Using Kafka address from environment variable: localhost:9092","file":"main.go","line":214}
{"timestamp":"2025-10-01T17:01:45.013Z","level":"INFO","category":"KAFKA","message":"Kafka brokers configured: [localhost:9092]","file":"main.go","line":216}
{"timestamp":"2025-10-01T17:01:45.013Z","level":"INFO","category":"KAFKA","message":"Kafka producer initialized successfully","file":"main.go","line":218}
{"timestamp":"2025-10-01T17:01:45.014Z","level":"INFO","category":"KAFKA","message":"Ensuring required topics exist","file":"main.go","line":221}
{"timestamp":"2025-10-01T17:01:46.040Z","level":"INFO","category":"KAFKA","message":"Required topics ensured successfully","file":"main.go","line":234}
{"timestamp":"2025-10-01T17:01:46.040Z","level":"INFO","category":"SERVICE","message":"Initializing ticket service","file":"main.go","line":237}
{"timestamp":"2025-10-01T17:01:46.041Z","level":"INFO","category":"SERVICE","message":"Initializing order service","file":"main.go","line":240}
{"timestamp":"2025-10-01T17:01:46.041Z","level":"INFO","category":"LOGGER","message":"Enhanced logging system initialized","file":"logger.go","line":68}
{"timestamp":"2025-10-01T17:01:46.041Z","level":"INFO","category":"LOGGER","message":"Log file: logs/order-gateway-2025-10-01.log","file":"logger.go","line":69}
{"timestamp":"2025-10-01T17:01:46.041Z","level":"INFO","category":"HTTP","message":"Setting up router and middleware","file":"main.go","line":259}
{"timestamp":"2025-10-01T17:01:46.044Z","level":"INFO","category":"DATABASE","message":"Redis connection closed","file":"main.go","line":208}
{"timestamp":"2025-10-01T17:01:46.045Z","level":"INFO","category":"DATABASE","message":"PostgreSQL connection closed","file":"main.go","line":204}
{"timestamp":"2025-10-01T17:01:46.045Z","level":"INFO","category":"LOGGER","message":"Closing log file","file":"logger.go","line":216}
{"timestamp":"2025-10-01T17:08:17.958Z","level":"INFO","category":"LOGGER","message":"Enhanced logging system initialized","file":"logger.go","line":68}
{"timestamp":"2025-10-01T17:08:17.959Z","level":"INFO","category":"LOGGER","message":"Log file: logs/order-gateway-2025-10-01.log","file":"logger.go","line":69}
{"timestamp":"2025-10-01T17:08:17.959Z","level":"INFO","category":"APP","message":"Starting Order Service initialization","file":"main.go","line":185}
{"timestamp":"2025-10-01T17:08:17.959Z","level":"INFO","category":"CONFIG","message":"Loaded environment variables from .env file","file":"main.go","line":191}
{"timestamp":"2025-10-01T17:08:17.959Z","level":"INFO","category":"APP","message":"Verifying database connections","file":"main.go","line":199}
{"timestamp":"2025-10-01T17:08:17.959Z","level":"INFO","category":"DATABASE","message":"Attempting to connect to PostgreSQL (attempt 1/5)","file":"main.go","line":121}
{"timestamp":"2025-10-01T17:08:17.992Z","level":"INFO","category":"DATABASE","message":"✅ PostgreSQL connection successful","file":"main.go","line":145}
{"timestamp":"2025-10-01T17:08:17.999Z","level":"INFO","category":"REDIS","message":"Keyspace notifications enabled for expired events","file":"main.go","line":166}
{"timestamp":"2025-10-01T17:08:17.999Z","level":"INFO","category":"DATABASE","message":"✅ Redis connection successful to localhost:6379 (DB: 0)","file":"main.go","line":168}
{"timestamp":"2025-10-01T17:08:17.999Z","level":"INFO","category":"KAFKA","message":"Initializing Kafka producer","file":"main.go","line":211}
{"timestamp":"2025-10-01T17:08:17.999Z","level":"INFO","category":"KAFKA","message":"Using Kafka address from environment variable: localhost:9092","file":"main.go","line":214}
{"timestamp":"2025-10-01T17:08:18.000Z","level":"INFO","category":"KAFKA","message":"Kafka brokers configured: [localhost:9092]","file":"main.go","line":216}
{"timestamp":"2025-10-01T17:08:18.000Z","level":"INFO","category":"KAFKA","message":"Kafka producer initialized successfully","file":"main.go","line":218}
{"timestamp":"2025-10-01T17:08:18.000Z","level":"INFO","category":"KAFKA","message":"Ensuring required topics exist","file":"main.go","line":221}
{"timestamp":"2025-10-01T17:08:19.034Z","level":"INFO","category":"KAFKA","message":"Required topics ensured successfully","file":"main.go","line":234}
{"timestamp":"2025-10-01T17:08:19.034Z","level":"INFO","category":"SERVICE","message":"Initializing ticket service","file":"main.go","line":237}
{"timestamp":"2025-10-01T17:08:19.034Z","level":"INFO","category":"SERVICE","message":"Initializing order service","file":"main.go","line":240}
{"timestamp":"2025-10-01T17:08:19.034Z","level":"INFO","category":"LOGGER","message":"Enhanced logging system initialized","file":"logger.go","line":68}
{"timestamp":"2025-10-01T17:08:19.034Z","level":"INFO","category":"LOGGER","message":"Log file: logs/order-gateway-2025-10-01.log","file":"logger.go","line":69}
{"timestamp":"2025-10-01T17:08:19.035Z","level":"INFO","category":"HTTP","message":"Setting up router and middleware","file":"main.go","line":259}
{"timestamp":"2025-10-01T17:08:19.046Z","level":"INFO","category":"DATABASE","message":"Redis connection closed","file":"main.go","line":208}
{"timestamp":"2025-10-01T17:08:19.047Z","level":"INFO","category":"DATABASE","message":"PostgreSQL connection closed","file":"main.go","line":204}
{"timestamp":"2025-10-01T17:08:19.048Z","level":"INFO","category":"LOGGER","message":"Closing log file","file":"logger.go","line":216}
{"timestamp":"2025-10-01T17:09:16.218Z","level":"INFO","category":"LOGGER","message":"Enhanced logging system initialized","file":"logger.go","line":68}
{"timestamp":"2025-10-01T17:09:16.218Z","level":"INFO","category":"LOGGER","message":"Log file: logs/order-gateway-2025-10-01.log","file":"logger.go","line":69}
{"timestamp":"2025-10-01T17:09:16.218Z","level":"INFO","category":"APP","message":"Starting Order Service initialization","file":"main.go","line":185}
{"timestamp":"2025-10-01T17:09:16.228Z","level":"INFO","category":"CONFIG","message":"Loaded environment variables from .env file","file":"main.go","line":191}
{"timestamp":"2025-10-01T17:09:16.228Z","level":"INFO","category":"APP","message":"Verifying database connections","file":"main.go","line":199}
{"timestamp":"2025-10-01T17:09:16.228Z","level":"INFO","category":"DATABASE","message":"Attempting to connect to PostgreSQL (attempt 1/5)","file":"main.go","line":121}
{"timestamp":"2025-10-01T17:09:16.253Z","level":"INFO","category":"DATABASE","message":"✅ PostgreSQL connection successful","file":"main.go","line":145}
{"timestamp":"2025-10-01T17:09:16.259Z","level":"INFO","category":"REDIS","message":"Keyspace notifications enabled for expired events","file":"main.go","line":166}
{"timestamp":"2025-10-01T17:09:16.259Z","level":"INFO","category":"DATABASE","message":"✅ Redis connection successful to localhost:6379 (DB: 0)","file":"main.go","line":168}
{"timestamp":"2025-10-01T17:09:16.260Z","level":"INFO","category":"KAFKA","message":"Initializing Kafka producer","file":"main.go","line":211}
{"timestamp":"2025-10-01T17:09:16.260Z","level":"INFO","category":"KAFKA","message":"Using Kafka address from environment variable: localhost:9092","file":"main.go","line":214}
{"timestamp":"2025-10-01T17:09:16.260Z","level":"INFO","category":"KAFKA","message":"Kafka brokers configured: [localhost:9092]","file":"main.go","line":216}
{"timestamp":"2025-10-01T17:09:16.261Z","level":"INFO","category":"KAFKA","message":"Kafka producer initialized successfully","file":"main.go","line":218}
{"timestamp":"2025-10-01T17:09:16.261Z","level":"INFO","category":"KAFKA","message":"Ensuring required topics exist","file":"main.go","line":221}
{"timestamp":"2025-10-01T17:09:17.284Z","level":"INFO","category":"KAFKA","message":"Required topics ensured successfully","file":"main.go","line":234}
{"timestamp":"2025-10-01T17:09:17.284Z","level":"INFO","category":"SERVICE","message":"Initializing ticket service","file":"main.go","line":237}
{"timestamp":"2025-10-01T17:09:17.284Z","level":"INFO","category":"SERVICE","message":"Initializing order service","file":"main.go","line":240}
{"timestamp":"2025-10-01T17:09:17.284Z","level":"INFO","category":"LOGGER","message":"Enhanced logging system initialized","file":"logger.go","line":68}
{"timestamp":"2025-10-01T17:09:17.284Z","level":"INFO","category":"LOGGER","message":"Log file: logs/order-gateway-2025-10-01.log","file":"logger.go","line":69}
{"timestamp":"2025-10-01T17:09:17.284Z","level":"INFO","category":"HTTP","message":"Setting up router and middleware","file":"main.go","line":259}
{"timestamp":"2025-10-01T17:09:17.299Z","level":"INFO","category":"AUTH","message":"JWT middleware applied globally","file":"main.go","line":265}
{"timestamp":"2025-10-01T17:09:17.301Z","level":"INFO","category":"ROUTER","message":"Order routes registered under /api/order","file":"main.go","line":279}
{"timestamp":"2025-10-01T17:09:17.301Z","level":"INFO","category":"ROUTER","message":"Ticket routes registered under /api/order/ticket","file":"main.go","line":289}
{"timestamp":"2025-10-01T17:09:17.302Z","level":"INFO","category":"REDIS","message":"Starting seat unlock subscription","file":"main.go","line":299}
{"timestamp":"2025-10-01T17:09:17.307Z","level":"INFO","category":"REDIS","message":"Current keyspace notifications setting: [notify-keyspace-events xE]","file":"main.go","line":48}
{"timestamp":"2025-10-01T17:09:17.310Z","level":"INFO","category":"REDIS","message":"Subscribed to Redis keyevent expired notifications (DB 0)","file":"main.go","line":55}
{"timestamp":"2025-10-01T17:09:17.311Z","level":"INFO","category":"HTTP","message":"🚀 Order Service running on :8084","file":"main.go","line":304}
{"timestamp":"2025-10-01T17:09:17.311Z","level":"INFO","category":"APP","message":"Service started successfully, waiting for shutdown signal","file":"main.go","line":313}
